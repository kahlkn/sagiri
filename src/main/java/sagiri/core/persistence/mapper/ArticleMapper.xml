<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="sagiri.core.persistence.mapper.ArticleMapper" >

    <!-- **** (Start) This will be covered, please do not modify. **** -->
    <resultMap id="BaseResultMap" type="sagiri.core.persistence.entity.Article" >
        <id column="number_id" property="numberId" />
        <result column="id" property="id" />
        <result column="title" property="title" />
        <result column="type" property="type" />
        <result column="category" property="category" />
        <result column="author_id" property="authorId" />
        <result column="author_name" property="authorName" />
        <result column="content" property="content" />
        <result column="origin" property="origin" />
        <result column="status" property="status" />
        <result column="release_time" property="releaseTime" />
        <result column="creator_id" property="creatorId" />
        <result column="create_time" property="createTime" />
        <result column="updater_id" property="updaterId" />
        <result column="update_time" property="updateTime" />
        <result column="alive_flag" property="aliveFlag" />
    </resultMap>

    <sql id="Base_Column_List" >
        `id`,
        `number_id`,
        `title`,
        `type`,
        `category`,
        `author_id`,
        `author_name`,
        `content`,
        `origin`,
        `status`,
        `release_time`,
        `creator_id`,
        `create_time`,
        `updater_id`,
        `update_time`,
        `alive_flag`
    </sql>

    <sql id="Base_Selective_Where" >
        <if test="id != null and id != ''">and `id` = #{id}</if>
        <if test="numberId != null and numberId != ''">and `number_id` = #{numberId}</if>
        <if test="title != null and title != ''">and `title` = #{title}</if>
        <if test="type != null">and `type` = #{type}</if>
        <if test="category != null and category != ''">and `category` = #{category}</if>
        <if test="authorId != null and authorId != ''">and `author_id` = #{authorId}</if>
        <if test="authorName != null and authorName != ''">and `author_name` = #{authorName}</if>
        <if test="content != null and content != ''">and `content` = #{content}</if>
        <if test="origin != null and origin != ''">and `origin` = #{origin}</if>
        <if test="status != null">and `status` = #{status}</if>
        <if test="releaseTime != null">and `release_time` = #{releaseTime}</if>
        <if test="creatorId != null and creatorId != ''">and `creator_id` = #{creatorId}</if>
        <if test="createTime != null">and `create_time` = #{createTime}</if>
        <if test="updaterId != null and updaterId != ''">and `updater_id` = #{updaterId}</if>
        <if test="updateTime != null">and `update_time` = #{updateTime}</if>
        <if test="aliveFlag != null">and `alive_flag` = #{aliveFlag}</if>
    </sql>

    <insert id="insert" parameterType="sagiri.core.persistence.entity.Article" >
        insert into `t_article` (
            <include refid="Base_Column_List" />
        )
        values (
            #{id},
            #{numberId},
            #{title},
            #{type},
            #{category},
            #{authorId},
            #{authorName},
            #{content},
            #{origin},
            #{status},
            #{releaseTime},
            #{creatorId},
            #{createTime},
            #{updaterId},
            #{updateTime},
            #{aliveFlag}
        )
    </insert>

    <insert id="insertBatch" >
        insert into `t_article` (
            <include refid="Base_Column_List" />
        )
        values
        <foreach collection="recordList" index="index" item="item" separator="," >
        (
            #{item.id},
            #{item.numberId},
            #{item.title},
            #{item.type},
            #{item.category},
            #{item.authorId},
            #{item.authorName},
            #{item.content},
            #{item.origin},
            #{item.status},
            #{item.releaseTime},
            #{item.creatorId},
            #{item.createTime},
            #{item.updaterId},
            #{item.updateTime},
            #{item.aliveFlag}
        )
        </foreach>
    </insert>

    <insert id="insertSelective" parameterType="sagiri.core.persistence.entity.Article" >
        insert into `t_article`
        <trim prefix="(" suffix=")" suffixOverrides="," >
            <if test="id != null" >`id`, </if>
            <if test="numberId != null" >`number_id`, </if>
            <if test="title != null" >`title`, </if>
            <if test="type != null" >`type`, </if>
            <if test="category != null" >`category`, </if>
            <if test="authorId != null" >`author_id`, </if>
            <if test="authorName != null" >`author_name`, </if>
            <if test="content != null" >`content`, </if>
            <if test="origin != null" >`origin`, </if>
            <if test="status != null" >`status`, </if>
            <if test="releaseTime != null" >`release_time`, </if>
            <if test="creatorId != null" >`creator_id`, </if>
            <if test="createTime != null" >`create_time`, </if>
            <if test="updaterId != null" >`updater_id`, </if>
            <if test="updateTime != null" >`update_time`, </if>
            <if test="aliveFlag != null" >`alive_flag`, </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides="," >
            <if test="id != null" >#{id}, </if>
            <if test="numberId != null" >#{numberId}, </if>
            <if test="title != null" >#{title}, </if>
            <if test="type != null" >#{type}, </if>
            <if test="category != null" >#{category}, </if>
            <if test="authorId != null" >#{authorId}, </if>
            <if test="authorName != null" >#{authorName}, </if>
            <if test="content != null" >#{content}, </if>
            <if test="origin != null" >#{origin}, </if>
            <if test="status != null" >#{status}, </if>
            <if test="releaseTime != null" >#{releaseTime}, </if>
            <if test="creatorId != null" >#{creatorId}, </if>
            <if test="createTime != null" >#{createTime}, </if>
            <if test="updaterId != null" >#{updaterId}, </if>
            <if test="updateTime != null" >#{updateTime}, </if>
            <if test="aliveFlag != null" >#{aliveFlag}, </if>
        </trim>
    </insert>

    <delete id="deleteByPrimaryKey" >
        update `t_article`
        set
            `updater_id` = #{updaterId},
            `update_time` = NOW(),
            `alive_flag` = 0
        where `alive_flag` = 1
            and `number_id` = #{numberId}
    </delete>

    <delete id="deleteByPrimaryKeyList" >
        update `t_article`
        set
            `updater_id` = #{updaterId},
            `update_time` = NOW(),
            `alive_flag` = 0
        where `alive_flag` = 1
            and `number_id` in
            <foreach collection="numberIdList" index="index" item="item" open="(" separator="," close=")">
                    #{item}
            </foreach>
    </delete>

    <delete id="deleteSelective" parameterType="sagiri.core.persistence.entity.Article" >
        update `t_article`
        set
            `updater_id` = #{updaterId},
            `update_time` = NOW(),
            `alive_flag` = 0
        where `alive_flag` = 1
            <if test="id != null" >and `id` = #{id}</if>
            <if test="numberId != null" >and `number_id` = #{numberId}</if>
            <if test="title != null" >and `title` = #{title}</if>
            <if test="type != null" >and `type` = #{type}</if>
            <if test="category != null" >and `category` = #{category}</if>
            <if test="authorId != null" >and `author_id` = #{authorId}</if>
            <if test="authorName != null" >and `author_name` = #{authorName}</if>
            <if test="content != null" >and `content` = #{content}</if>
            <if test="origin != null" >and `origin` = #{origin}</if>
            <if test="status != null" >and `status` = #{status}</if>
            <if test="releaseTime != null" >and `release_time` = #{releaseTime}</if>
            <if test="creatorId != null" >and `creator_id` = #{creatorId}</if>
            <if test="createTime != null" >and `create_time` = #{createTime}</if>
            <if test="updaterId != null" >and `updater_id` = #{updaterId}</if>
            <if test="updateTime != null" >and `update_time` = #{updateTime}</if>
            <if test="aliveFlag != null" >and `alive_flag` = #{aliveFlag}</if>
    </delete>

    <update id="updateByPrimaryKey" parameterType="sagiri.core.persistence.entity.Article" >
        update `t_article`
        set
            `id` = #{id},
            `number_id` = #{numberId},
            `title` = #{title},
            `type` = #{type},
            `category` = #{category},
            `author_id` = #{authorId},
            `author_name` = #{authorName},
            `content` = #{content},
            `origin` = #{origin},
            `status` = #{status},
            `release_time` = #{releaseTime},
            `creator_id` = #{creatorId},
            `create_time` = #{createTime},
            `updater_id` = #{updaterId},
            `update_time` = #{updateTime},
            `alive_flag` = #{aliveFlag}
        where `alive_flag` = 1
            and `number_id` = #{numberId}
    </update>

    <update id="updateByPrimaryKeySelective" parameterType="sagiri.core.persistence.entity.Article" >
        update `t_article`
        <set>
            <if test="id != null" >`id` = #{id}, </if>
            <if test="numberId != null" >`number_id` = #{numberId}, </if>
            <if test="title != null" >`title` = #{title}, </if>
            <if test="type != null" >`type` = #{type}, </if>
            <if test="category != null" >`category` = #{category}, </if>
            <if test="authorId != null" >`author_id` = #{authorId}, </if>
            <if test="authorName != null" >`author_name` = #{authorName}, </if>
            <if test="content != null" >`content` = #{content}, </if>
            <if test="origin != null" >`origin` = #{origin}, </if>
            <if test="status != null" >`status` = #{status}, </if>
            <if test="releaseTime != null" >`release_time` = #{releaseTime}, </if>
            <if test="creatorId != null" >`creator_id` = #{creatorId}, </if>
            <if test="createTime != null" >`create_time` = #{createTime}, </if>
            <if test="updaterId != null" >`updater_id` = #{updaterId}, </if>
            <if test="updateTime != null" >`update_time` = #{updateTime}, </if>
            <if test="aliveFlag != null" >`alive_flag` = #{aliveFlag}, </if>
        </set>
        where `alive_flag` = 1
            and `number_id` = #{numberId}
    </update>

    <select id="countSelective" resultType="int" parameterType="sagiri.core.persistence.entity.Article" >
        select
            count(0)
        from `t_article`
        where `alive_flag` = 1
            <include refid="Base_Selective_Where" />
    </select>

    <select id="queryByPrimaryKey" resultMap="BaseResultMap" >
        select
            <include refid="Base_Column_List" />
        from `t_article`
        where `alive_flag` = 1
            and `number_id` = #{numberId}
    </select>

    <select id="queryByPrimaryKeyList" resultMap="BaseResultMap" >
        select
            <include refid="Base_Column_List" />
        from `t_article`
        where `alive_flag` = 1
            and `number_id` in
            <foreach collection="numberIdList" index="index" item="item" open="(" separator="," close=")">
                    #{item}
            </foreach>
    </select>

    <select id="findOne" resultMap="BaseResultMap" parameterType="sagiri.core.persistence.entity.Article">
        select
            <include refid="Base_Column_List" />
        from `t_article`
        where `alive_flag` = 1
            <include refid="Base_Selective_Where" />
        limit 1
    </select>

    <select id="querySelective" resultMap="BaseResultMap" parameterType="sagiri.core.persistence.entity.Article">
        select
            <include refid="Base_Column_List" />
        from `t_article`
        where `alive_flag` = 1
            <include refid="Base_Selective_Where" />
    </select>
    <!-- **** (End) This will be covered, please do not modify. **** -->
    <!-- Generated by artoria-extend in 2020-12-01T14:37:55.967+0800. -->

    <update id="updateByIdSelective" parameterType="sagiri.core.persistence.entity.Article" >
        update `t_article`
        <set>
            <if test="title != null" >`title` = #{title}, </if>
            <if test="type != null" >`type` = #{type}, </if>
            <if test="category != null" >`category` = #{category}, </if>
            <if test="authorId != null" >`author_id` = #{authorId}, </if>
            <if test="authorName != null" >`author_name` = #{authorName}, </if>
            <if test="content != null" >`content` = #{content}, </if>
            <if test="origin != null" >`origin` = #{origin}, </if>
            <if test="status != null" >`status` = #{status}, </if>
            <if test="releaseTime != null" >`release_time` = #{releaseTime}, </if>
            <if test="updaterId != null" >`updater_id` = #{updaterId}, </if>
            <if test="updateTime != null" >`update_time` = #{updateTime}, </if>
        </set>
        where `alive_flag` = 1
        and `id` = #{id}
    </update>

</mapper>
